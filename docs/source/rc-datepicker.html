<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/*
	Projeto: conciliation
	Author/Empresa: Rede
	Copyright (C) 2016 Redecard S.A.
 */

(function() {
	&#39;use strict&#39;;

	angular
		.module(&#39;Conciliador&#39;)
		.directive(&#39;rcDatepicker&#39;, RcDatepicker);

	RcDatepicker.$inject = [&#39;calendarFactory&#39;]

	function RcDatepicker(calendarFactory) {
		return {
			restrict: &#39;E&#39;,
			templateUrl: &#39;app/views/directives/rc-datepicker.html&#39;,
			scope: {
				date: &#39;=&#39;,
				label: &#39;=&#39;,
				minDate: &#39;=&#39;,
				maxDate: &#39;=&#39;
			},
			controller: Controller,
			link: function(scope, element, attrs) {

				var divCalendarIcon = element[0].querySelector(&#39;.icon_calendario&#39;);

				divCalendarIcon.addEventListener(&#39;click&#39;, function(){
					scope.status.opened = true;
				});
			}
		};

		function Controller($scope) {

			Init();

			function Init() {
				$scope.dateFormat = &#39;dd/MM/yyyy&#39;;
				$scope.open = Open;
				$scope.status = {
					opened: false
				};
				$scope.dateOptions = {
					showWeeks: false,
					startingDay: 1,
					maxMode: &#39;day&#39;
				};

				if($scope.minDate) {
					$scope.dateOptions.minDate = $scope.minDate;
				}

				if($scope.maxDate) {
					$scope.dateOptions.maxDate = $scope.maxDate;
				}
			}

			function Open() {
	    		$scope.status.opened = true;
	  		}

		}
	}

})();
</pre>
</body>
</html>
