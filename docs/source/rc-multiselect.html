<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/*
	Projeto: conciliation
	Author/Empresa: Rede
	Copyright (C) 2016 Redecard S.A.
 */

(function() {
	&#39;use strict&#39;;

	angular
		.module(&#39;Conciliador&#39;)
		.directive(&#39;rcMultiselect&#39;, RcMultiselect);

	function RcMultiselect() {
		return {
			restrict: &#39;E&#39;,
			templateUrl: &#39;app/views/directives/rc-multiselect.html&#39;,
			scope: {
				model: &#39;=&#39;,
				data: &#39;=&#39;,
				label: &#39;=&#39;,
				events: &#39;=&#39;,
				placeholder: &#39;=&#39;,
				singleSelection: &#39;=&#39;,
				buttonMaxItems: &#39;=&#39;
			},
			controller: Controller
		};

		function Controller($scope) {

			Init();

			function Init() {
				$scope.settings = {
					showCheckAll: true,
					showUncheckAll: true,
					smartButtonMaxItems: 3,
					displayProp: &#39;label&#39;,
					smartButtonTextConverter: function(itemText, originalItem) {
						if (itemText === &#39;Jhon&#39;) {
							return &#39;Jhonny!&#39;;
						}
						return itemText;
					},
					externalIdProp: &quot;&quot;
				};

				if ($scope.placeholder) {
					$scope.customText = {
						buttonDefaultText: $scope.placeholder
					};
				}

				if ($scope.label === &quot;conta&quot;) {
					$scope.settings = {
						selectionLimit: 1,
						closeOnSelect: true,
						showCheckAll: true,
						showUncheckAll: false,
						displayProp: &#39;label&#39;,
						externalIdProp: &quot;&quot;,
						onItemSelect: function() {
							//console.log(&quot;selecionou&quot;)
						}
					}
				}
				if ($scope.label === &quot;tipo de relat√≥rio&quot;) {
					$scope.settings = {
						selectionLimit: 1,
						closeOnSelect: true,
						showCheckAll: false,
						showUncheckAll: false,
						displayProp: &#39;label&#39;,
						externalIdProp: &quot;&quot;
					}
				}

				if ($scope.buttonMaxItems) {
					$scope.settings.smartButtonMaxItems = $scope.buttonMaxItems;
				} else {
					$scope.settings.smartButtonMaxItems = 3;
				}
			}
		}
	}

})();
</pre>
</body>
</html>
